<!DOCTYPE html>
<html lang="zh">

  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Language" content="zh">
    

    
    <meta name="description" content="安装hugo 1. 使用安装包 下载地址 2. 源码安装 提前准备好go环境 执行命令：go get -v github.com/gohugoio/hugo 踩坑 有些主题需要使用extended version，比如hu">
    <meta name="keywords" content="hugo,blog">

    <meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="不花一分钱搭建一个博客"/>
<meta name="twitter:description" content="安装hugo 1. 使用安装包 下载地址 2. 源码安装 提前准备好go环境 执行命令：go get -v github.com/gohugoio/hugo 踩坑 有些主题需要使用extended version，比如hu"/>

    <meta property="og:title" content="不花一分钱搭建一个博客" />
<meta property="og:description" content="安装hugo 1. 使用安装包 下载地址 2. 源码安装 提前准备好go环境 执行命令：go get -v github.com/gohugoio/hugo 踩坑 有些主题需要使用extended version，比如hu" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://stong1994.github.io/life/build_free_blog/" /><meta property="article:section" content="life" />
<meta property="article:published_time" content="2021-01-31T16:30:51+08:00" />
<meta property="article:modified_time" content="2021-01-31T16:30:51+08:00" />



    <title>
  不花一分钱搭建一个博客 · 北人
</title>

    
      <link rel="canonical" href="https://stong1994.github.io/life/build_free_blog/">
    

    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css?family=Lato:400,700%7CMerriweather:300,700%7CSource+Code+Pro:400,700&display=swap" rel="stylesheet">
    <link rel="preload" href="/fonts/forkawesome-webfont.woff2?v=1.1.7" as="font" type="font/woff2" crossorigin>

    
      
      
      <link rel="stylesheet" href="/css/coder.min.5317d5aa4161466b8ec88da2b36cacd596a0fdc1cc6a986e05f9b413df8ad2d3.css" integrity="sha256-UxfVqkFhRmuOyI2is2ys1Zag/cHMaphuBfm0E9&#43;K0tM=" crossorigin="anonymous" media="screen" />
    

    

    
      
        
        
        <link rel="stylesheet" href="/css/coder-dark.min.126ad3988d46bdae6217a11105b53c9662bca05f39d42d3c0fb366919d334620.css" integrity="sha256-EmrTmI1Gva5iF6ERBbU8lmK8oF851C08D7NmkZ0zRiA=" crossorigin="anonymous" media="screen" />
      
    

    

    

    <link rel="icon" type="image/png" href="/images/favicon-32x32.png" sizes="32x32">
    <link rel="icon" type="image/png" href="/images/favicon-16x16.png" sizes="16x16">

    <link rel="apple-touch-icon" href="/images/apple-touch-icon.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png">

    
      <script defer src="https://twemoji.maxcdn.com/v/13.0.1/twemoji.min.js"
        integrity="sha384-5f4X0lBluNY/Ib4VhGx0Pf6iDCF99VGXJIyYy7dDLY5QlEd7Ap0hICSSZA1XYbc4" crossorigin="anonymous"></script>
    

    <meta name="generator" content="Hugo 0.101.0" />
  </head>

  
  
    
  
  <body class="colorscheme-auto"
        onload=" twemoji.parse(document.body); "
  >
    
<div class="float-container">
    <a id="dark-mode-toggle" class="colorscheme-toggle">
        <i class="fa fa-adjust fa-fw" aria-hidden="true"></i>
    </a>
</div>


    <main class="wrapper">
      <nav class="navigation">
  <section class="container">
    <a class="navigation-title" href="/">
      北人
    </a>
    
      <input type="checkbox" id="menu-toggle" />
      <label class="menu-button float-right" for="menu-toggle">
        <i class="fa fa-bars fa-fw" aria-hidden="true"></i>
      </label>
      <ul class="navigation-list">
        
          
            <li class="navigation-item">
              <a class="navigation-link" href="/internet/">计算机与互联网</a>
            </li>
          
            <li class="navigation-item">
              <a class="navigation-link" href="/cloudnative/">云原生</a>
            </li>
          
            <li class="navigation-item">
              <a class="navigation-link" href="/web3/">区块链&amp;web3</a>
            </li>
          
            <li class="navigation-item">
              <a class="navigation-link" href="/book/">读书</a>
            </li>
          
            <li class="navigation-item">
              <a class="navigation-link" href="/life/">生活</a>
            </li>
          
            <li class="navigation-item">
              <a class="navigation-link" href="/mental_model/">心智模型</a>
            </li>
          
            <li class="navigation-item">
              <a class="navigation-link" href="/about/">关于</a>
            </li>
          
        
        
      </ul>
    
  </section>
</nav>


      <div class="content">
        
    <div id="toc" class="well col-md-4 col-sm-6">
    <nav id="TableOfContents">
  <ul>
    <li><a href="#安装hugo">安装hugo</a>
      <ul>
        <li><a href="#1-使用安装包">1. 使用安装包</a></li>
        <li><a href="#2-源码安装">2. 源码安装</a></li>
      </ul>
    </li>
    <li><a href="#创建博客">创建博客</a>
      <ul>
        <li><a href="#1初始化博客">1.初始化博客</a></li>
        <li><a href="#2选择主题">2.选择主题</a></li>
        <li><a href="#3使用主题">3.使用主题</a></li>
      </ul>
    </li>
    <li><a href="#修改配置">修改配置</a>
      <ul>
        <li><a href="#填充博客">填充博客</a></li>
      </ul>
    </li>
    <li><a href="#github-page">GitHub page</a></li>
    <li><a href="#hugo-基本命令">hugo 基本命令</a>
      <ul>
        <li><a href="#hugo-new-site-quickstart">hugo new site quickstart</a></li>
        <li><a href="#hugo-new-postsmy-first-postmd">hugo new posts/my-first-post.md</a></li>
        <li><a href="#hugo-server">hugo server</a></li>
        <li><a href="#hugo--d-docs">hugo -d docs</a></li>
      </ul>
    </li>
    <li><a href="#禁止发布某些博客的方法">禁止发布某些博客的方法</a></li>
    <li><a href="#hugo-基本目录">hugo 基本目录</a>
      <ul>
        <li><a href="#archetypeshttpsgohugoiocontent-managementarchetypes"><a href="https://gohugo.io/content-management/archetypes/"><code>archetypes</code></a></a></li>
        <li><a href="#assetshttpsgohugoiohugo-pipesintroductionasset-directory"><a href="https://gohugo.io/hugo-pipes/introduction/#asset-directory"><code>assets</code></a></a></li>
        <li><a href="#confighttpsgohugoiogetting-startedconfiguration"><a href="https://gohugo.io/getting-started/configuration/"><code>config</code></a></a></li>
        <li><a href="#contenthttpsgohugoiocontent-managementorganization"><a href="https://gohugo.io/content-management/organization/"><code>content</code></a></a></li>
        <li><a href="#datahttpsgohugoiotemplatesdata-templates"><a href="https://gohugo.io/templates/data-templates/"><code>data</code></a></a></li>
        <li><a href="#layoutshttpsgohugoiotemplates"><a href="https://gohugo.io/templates/"><code>layouts</code></a></a></li>
        <li><a href="#statichttpsgohugoiocontent-managementstatic-files"><a href="https://gohugo.io/content-management/static-files/"><code>static</code></a></a></li>
        <li><a href="#resources"><strong>resources</strong></a></li>
      </ul>
    </li>
    <li><a href="#基本配置">基本配置</a>
      <ul>
        <li><a href="#baseurl"><strong>baseURL</strong></a></li>
        <li><a href="#hascjklanguage"><strong>hasCJKLanguage</strong></a></li>
        <li><a href="#imaging">imaging</a></li>
        <li><a href="#markup">markup</a></li>
        <li><a href="#menuhttpsgohugoiocontent-managementmenus"><a href="https://gohugo.io/content-management/menus/">menu</a></a></li>
        <li><a href="#paginatehttpsgohugoiotemplatespagination"><strong><a href="https://gohugo.io/templates/pagination/">paginate</a></strong></a></li>
        <li><a href="#taxonomieshttpsgohugoiocontent-managementtaxonomiesconfigure-taxonomies"><strong><a href="https://gohugo.io/content-management/taxonomies#configure-taxonomies">taxonomies</a></strong></a></li>
        <li><a href="#theme"><strong>theme</strong></a></li>
        <li><a href="#themesdir"><strong>themesDir</strong></a></li>
        <li><a href="#timeout"><strong>timeout</strong></a></li>
        <li><a href="#watch"><strong>watch</strong></a></li>
      </ul>
    </li>
    <li><a href="#frontmatter">frontmatter</a>
      <ul>
        <li><a href="#分类">分类</a></li>
      </ul>
    </li>
    <li><a href="#目录项toc">目录项TOC</a></li>
    <li><a href="#相关文章">相关文章</a></li>
  </ul>
</nav>
    </div>
  <section class="container page">
  <article>
    <header>
      <h1>不花一分钱搭建一个博客</h1>
    </header>

    <h2 id="安装hugo">安装hugo</h2>
<h3 id="1-使用安装包">1. 使用安装包</h3>
<p><a href="https://github.com/gohugoio/hugo/releases">下载地址</a></p>
<h3 id="2-源码安装">2. 源码安装</h3>
<blockquote>
<p>提前准备好go环境</p>
</blockquote>
<p>执行命令：<code>go get -v github.com/gohugoio/hugo</code></p>
<h4 id="踩坑">踩坑</h4>
<p>有些主题需要使用<code>extended version</code>，比如<a href="https://themes.gohugo.io/hugo-coder/">hugo-coder</a>，如果使用了这类主题，在启动hugo时会报错</p>
<blockquote>
<div class="highlight"><pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>ERROR 2020/xx/xx TOCSS: failed to transform &#34;style.coder-dark.css&#34; (text/x-scss): resource &#34;scss/scss/coder-dark.scss_9e20ccd2d8034c8e0fd83b11fb6e2bd5&#34; not found in file cache
</span></span><span style="display:flex;"><span>Built in 75 ms
</span></span><span style="display:flex;"><span>Error: Error building site: TOCSS: failed to transform &#34;style.coder.css&#34; (text/x-scss): resource &#34;scss/scss/coder.scss_fd4b5b3f9a48bc0c7f005d2f7a4cc30f&#34; 
</span></span><span style="display:flex;"><span>not found in file cache
</span></span></code></pre></div></blockquote>
<p>因此在使用这类主题时需要使用hugo的extended版本，安装步骤如下：</p>
<div class="highlight"><pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>git clone https://github.com/gohugoio/hugo.git
</span></span><span style="display:flex;"><span>cd hugo
</span></span><span style="display:flex;"><span>go install --tags extended
</span></span></code></pre></div><p><a href="https://gohugo.io/getting-started/installing/">文档地址</a></p>
<h4 id="校验是否安装成功">校验是否安装成功</h4>
<p><code>hugo version</code></p>
<p>看到版本信息即为成功。</p>
<h2 id="创建博客">创建博客</h2>
<h3 id="1初始化博客">1.初始化博客</h3>
<p><code>hugo new site cristo</code></p>
<h3 id="2选择主题">2.选择主题</h3>
<p><a href="https://themes.gohugo.io/">主题地址</a></p>
<p>我选的是<a href="https://themes.gohugo.io/hugo-coder/">hugo-coder</a>，因为看上去很简洁。</p>
<h3 id="3使用主题">3.使用主题</h3>
<p>挑选好主题后，在主题页面中都会有example展示和使用步骤，以<code>hugo-coder</code>为例：</p>
<ol>
<li>
<p>关联主题仓库</p>
<div class="highlight"><pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-v" data-lang="v"><span style="display:flex;"><span>cd cristo
</span></span><span style="display:flex;"><span>git submodule add https:<span style="color:#007f7f">//github.com/luizdepra/hugo-coder.git themes/hugo-coder
</span></span></span></code></pre></div></li>
<li>
<p>修改配置文件</p>
<p>配置文件为项目下的<code>config.toml</code>文件</p>
<p>可以先使用<code>cristo/themes/hugo-coder/exampleSite/config.toml</code>，然后再做定制化配置</p>
</li>
<li>
<p>启动hugo</p>
<p>在项目路径下执行命令<code>hugo server</code></p>
<p>输出内容：</p>
<div class="highlight"><pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>Start building sites …
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>                   | EN | PT-BR
</span></span><span style="display:flex;"><span>-------------------+----+--------
</span></span><span style="display:flex;"><span>  Pages            | 11 |    11
</span></span><span style="display:flex;"><span>  Paginator pages  |  0 |     0
</span></span><span style="display:flex;"><span>  Non-page files   |  0 |     0
</span></span><span style="display:flex;"><span>  Static files     |  5 |     5
</span></span><span style="display:flex;"><span>  Processed images |  0 |     0
</span></span><span style="display:flex;"><span>  Aliases          |  5 |     4
</span></span><span style="display:flex;"><span>  Sitemaps         |  2 |     1
</span></span><span style="display:flex;"><span>  Cleaned          |  0 |     0
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Built in 242 ms
</span></span><span style="display:flex;"><span>Watching for changes in /xxx/cristo/{archetypes,content,data,layouts,static,themes}
</span></span><span style="display:flex;"><span>Watching for config changes in /xxx/cristo/config.toml
</span></span><span style="display:flex;"><span>Environment: &#34;development&#34;
</span></span><span style="display:flex;"><span>Serving pages from memory
</span></span><span style="display:flex;"><span>Running in Fast Render Mode. For full rebuilds on change: hugo server --disableFastRender
</span></span><span style="display:flex;"><span>Web Server is available at http://localhost:1313/ (bind address 127.0.0.1)
</span></span><span style="display:flex;"><span>Press Ctrl+C to stop
</span></span></code></pre></div><p>按照提示打开浏览器，输入地址：<code>http://localhost:1313/</code>，即可看到一个简单的博客。</p>
<p><img src="https:/raw.githubusercontent.com/stong1994/images/master/picgo/20210124160116.png" alt=""></p>
</li>
</ol>
<h2 id="修改配置">修改配置</h2>
<ol>
<li>
<p>修改头像图片</p>
<p>报错<code>Refused to load the image 'LOREM_IPSUM_URL' because it violates the following Content Security Policy directive: &quot;img-src 'self' data:&quot;.</code></p>
<p>网上的资料是将<code>img-src 'self'</code>替换为<code>img-src * 'self' data: https:</code></p>
<p>但是我全局替换后仍未正常显式，后边的解决办法为在<code>static</code>目录下创建<code>images</code>目录，然后将图片拷贝过来，然后在配置文件中将头像地址设置为<code>images/xxx.jpg</code>即可</p>
</li>
</ol>
<h3 id="填充博客">填充博客</h3>
<p>此时点击Blog会显示404.</p>
<p>在 content/posts 目录下新增一个文件：<code>_index.md</code>，内容如下：</p>
<div class="highlight"><pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>---
</span></span><span style="display:flex;"><span>title: &#34;文章列表&#34;
</span></span><span style="display:flex;"><span>---
</span></span></code></pre></div><p>再次点击Blog标签，会显示上述信息。</p>
<h4 id="增加关于页面">增加关于页面</h4>
<p>同样的，在 content/posts 目录下新增文件 <code>about.md</code>，正文内容随意，类似这样：</p>
<div class="highlight"><pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>---
</span></span><span style="display:flex;"><span>title: &#34;关于&#34;
</span></span><span style="display:flex;"><span>date: &#34;2020-12-01&#34;
</span></span><span style="display:flex;"><span>---
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>这是关于页面。
</span></span></code></pre></div><h4 id="增加博客">增加博客</h4>
<p>新博客文件名为test-post.md，执行命令：<code>hugo new posts/test-post.md</code></p>
<p>posts目录下会新增test-post.md，内容如下</p>
<div class="highlight"><pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>+++
</span></span><span style="display:flex;"><span>draft = true
</span></span><span style="display:flex;"><span>date = 2021-01-24T23:36:51+08:00
</span></span><span style="display:flex;"><span>title = &#34;&#34;
</span></span><span style="display:flex;"><span>description = &#34;&#34;
</span></span><span style="display:flex;"><span>slug = &#34;&#34;
</span></span><span style="display:flex;"><span>authors = []
</span></span><span style="display:flex;"><span>tags = []
</span></span><span style="display:flex;"><span>categories = []
</span></span><span style="display:flex;"><span>externalLink = &#34;&#34;
</span></span><span style="display:flex;"><span>series = []
</span></span><span style="display:flex;"><span>+++
</span></span></code></pre></div><p>其中加号间的内容为元数据，在 Hugo 中叫做 Front Matter。</p>
<ul>
<li>加号表示toml格式</li>
<li>减号表示yaml格式</li>
<li>大括号表示json格式</li>
</ul>
<p><code>isCJKLanguage: true</code>: 用于准确计算中文字数</p>
<h2 id="github-page">GitHub page</h2>
<p>在github下的创建仓库：<strong>账号名</strong>.github.io</p>
<p>进入仓库，在setting中找到Github Pages，</p>
<h2 id="hugo-基本命令">hugo 基本命令</h2>
<h3 id="hugo-new-site-quickstart">hugo new site quickstart</h3>
<p>创建一个名为<code>quickstart</code>的站点</p>
<h3 id="hugo-new-postsmy-first-postmd">hugo new posts/my-first-post.md</h3>
<p>创建一个文件名为<code>my-first-post.md</code>的博客。</p>
<h3 id="hugo-server">hugo server</h3>
<p>启动hugo服务器</p>
<h3 id="hugo--d-docs">hugo -d docs</h3>
<p>构建静态页面并将其放到<code>docs</code>目录下，如果不加<code>-d docs</code>，则默认目录为<code>public</code></p>
<h2 id="禁止发布某些博客的方法">禁止发布某些博客的方法</h2>
<p>Hugo allows you to set <code>draft</code>, <code>publishdate</code>, and even <code>expirydate</code> in your content’s <a href="https://gohugo.io/content-management/front-matter/">front matter</a>. By default, Hugo will not publish:</p>
<ol>
<li>Content with a future <code>publishdate</code> value</li>
<li>Content with <code>draft: true</code> status</li>
<li>Content with a past <code>expirydate</code> value</li>
</ol>
<h2 id="hugo-基本目录">hugo 基本目录</h2>
<div class="highlight"><pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>.
</span></span><span style="display:flex;"><span>├── archetypes
</span></span><span style="display:flex;"><span>├── config.toml
</span></span><span style="display:flex;"><span>├── content
</span></span><span style="display:flex;"><span>├── data
</span></span><span style="display:flex;"><span>├── layouts
</span></span><span style="display:flex;"><span>├── static
</span></span><span style="display:flex;"><span>└── themes
</span></span></code></pre></div><h3 id="archetypeshttpsgohugoiocontent-managementarchetypes"><a href="https://gohugo.io/content-management/archetypes/"><code>archetypes</code></a></h3>
<p>使用<code>hugo new</code>命令来创建内容文件，这些文件至少会包含<code>date</code>, <code>title</code>以及<code>draft = true</code></p>
<h3 id="assetshttpsgohugoiohugo-pipesintroductionasset-directory"><a href="https://gohugo.io/hugo-pipes/introduction/#asset-directory"><code>assets</code></a></h3>
<p>存储所有需要在 <a href="https://gohugo.io/hugo-pipes/">Hugo Pipes</a>中处理的文件，只有那些使用了<code>.Permalink</code> 或者 <code>.RelPermalink</code>的文件会被放到<code>public</code>目录下</p>
<h3 id="confighttpsgohugoiogetting-startedconfiguration"><a href="https://gohugo.io/getting-started/configuration/"><code>config</code></a></h3>
<p>存储配置指令，这些指令存储在格式为JSON、YAML或者TOML的文件中。一个最简单的配置是在项目根路径下配置<code>config.toml</code></p>
<h3 id="contenthttpsgohugoiocontent-managementorganization"><a href="https://gohugo.io/content-management/organization/"><code>content</code></a></h3>
<p>网站中的所有内容会放到这个目录下，目录下的每个直接子目录都是 <a href="https://gohugo.io/content-management/sections/">content section</a>，如果你的博客有三个板块：<code>blog</code>, <code>articles</code>, and <code>tutorials</code>，那么在目录下会有三个子目录<code>content/blog</code>, <code>content/articles</code>和<code>content/tutorials</code></p>
<h3 id="datahttpsgohugoiotemplatesdata-templates"><a href="https://gohugo.io/templates/data-templates/"><code>data</code></a></h3>
<p>存储在hugo生成网站时的配置文件，比如创建一些动态内容的<a href="https://gohugo.io/templates/data-templates/">数据模板</a></p>
<h3 id="layoutshttpsgohugoiotemplates"><a href="https://gohugo.io/templates/"><code>layouts</code></a></h3>
<p>存储html格式的模板文件，这些文件用来将内容渲染成静态页面，模板包括 <a href="https://gohugo.io/templates/list/">list pages</a>,  <a href="https://gohugo.io/templates/homepage/">homepage</a>, <a href="https://gohugo.io/templates/taxonomy-templates/">taxonomy templates</a>, <a href="https://gohugo.io/templates/partials/">partials</a>, <a href="https://gohugo.io/templates/single-page-templates/">single page templates</a>等等。</p>
<h3 id="statichttpsgohugoiocontent-managementstatic-files"><a href="https://gohugo.io/content-management/static-files/"><code>static</code></a></h3>
<p>存储所有的静态内容：images、css、JavaScript等</p>
<h3 id="resources"><strong>resources</strong></h3>
<p><em>不是默认生成的</em></p>
<p>缓存一些文件来加速生成，也能被一些模板作者用来分发SASS文件</p>
<h2 id="基本配置">基本配置</h2>
<h3 id="baseurl"><strong>baseURL</strong></h3>
<p>域名的根路径</p>
<h3 id="hascjklanguage"><strong>hasCJKLanguage</strong></h3>
<p>如果是true，自动检测中文/日文/韩文内容，使得 <code>.Summary</code> 和 <code>.WordCount</code> 表现正确</p>
<h3 id="imaging">imaging</h3>
<div class="highlight"><pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>[imaging]
</span></span><span style="display:flex;"><span># Default resample filter used for resizing. Default is Box,
</span></span><span style="display:flex;"><span># a simple and fast averaging filter appropriate for downscaling.
</span></span><span style="display:flex;"><span># See https://github.com/disintegration/imaging
</span></span><span style="display:flex;"><span>resampleFilter = &#34;box&#34;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span># Default JPEG quality setting. Default is 75.
</span></span><span style="display:flex;"><span>quality = 75
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span># Anchor used when cropping pictures.
</span></span><span style="display:flex;"><span># Default is &#34;smart&#34; which does Smart Cropping, using https://github.com/muesli/smartcrop
</span></span><span style="display:flex;"><span># Smart Cropping is content aware and tries to find the best crop for each image.
</span></span><span style="display:flex;"><span># Valid values are Smart, Center, TopLeft, Top, TopRight, Left, Right, BottomLeft, Bottom, BottomRight
</span></span><span style="display:flex;"><span>anchor = &#34;smart&#34;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span># Default background color.
</span></span><span style="display:flex;"><span># Hugo will preserve transparency for target formats that supports it,
</span></span><span style="display:flex;"><span># but will fall back to this color for JPEG.
</span></span><span style="display:flex;"><span># Expects a standard HEX color string with 3 or 6 digits.
</span></span><span style="display:flex;"><span># See https://www.google.com/search?q=color+picker
</span></span><span style="display:flex;"><span>bgColor = &#34;#ffffff&#34;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>[imaging.exif]
</span></span><span style="display:flex;"><span> # Regexp matching the fields you want to Exclude from the (massive) set of Exif info
</span></span><span style="display:flex;"><span># available. As we cache this info to disk, this is for performance and
</span></span><span style="display:flex;"><span># disk space reasons more than anything.
</span></span><span style="display:flex;"><span># If you want it all, put &#34;.*&#34; in this config setting.
</span></span><span style="display:flex;"><span># Note that if neither this or ExcludeFields is set, Hugo will return a small
</span></span><span style="display:flex;"><span># default set.
</span></span><span style="display:flex;"><span>includeFields = &#34;&#34;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span># Regexp matching the Exif fields you want to exclude. This may be easier to use
</span></span><span style="display:flex;"><span># than IncludeFields above, depending on what you want.
</span></span><span style="display:flex;"><span>excludeFields = &#34;&#34;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span># Hugo extracts the &#34;photo taken&#34; date/time into .Date by default.
</span></span><span style="display:flex;"><span># Set this to true to turn it off.
</span></span><span style="display:flex;"><span>disableDate = false
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span># Hugo extracts the &#34;photo taken where&#34; (GPS latitude and longitude) into
</span></span><span style="display:flex;"><span># .Long and .Lat. Set this to true to turn it off.
</span></span><span style="display:flex;"><span>disableLatLong = false
</span></span></code></pre></div><h3 id="markup">markup</h3>
<p>装饰Markdown，有多种装饰器，目前默认的装饰器为Goldmark</p>
<div class="highlight"><pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>markup:
</span></span><span style="display:flex;"><span>  asciidocExt:
</span></span><span style="display:flex;"><span>    attributes: {}
</span></span><span style="display:flex;"><span>    backend: html5
</span></span><span style="display:flex;"><span>    extensions: []
</span></span><span style="display:flex;"><span>    failureLevel: fatal
</span></span><span style="display:flex;"><span>    noHeaderOrFooter: true
</span></span><span style="display:flex;"><span>    preserveTOC: false
</span></span><span style="display:flex;"><span>    safeMode: unsafe
</span></span><span style="display:flex;"><span>    sectionNumbers: false
</span></span><span style="display:flex;"><span>    trace: false
</span></span><span style="display:flex;"><span>    verbose: false
</span></span><span style="display:flex;"><span>    workingFolderCurrent: false
</span></span><span style="display:flex;"><span>  blackFriday:
</span></span><span style="display:flex;"><span>    angledQuotes: false
</span></span><span style="display:flex;"><span>    extensions: null
</span></span><span style="display:flex;"><span>    extensionsMask: null
</span></span><span style="display:flex;"><span>    footnoteAnchorPrefix: &#34;&#34;
</span></span><span style="display:flex;"><span>    footnoteReturnLinkContents: &#34;&#34;
</span></span><span style="display:flex;"><span>    fractions: true
</span></span><span style="display:flex;"><span>    hrefTargetBlank: false
</span></span><span style="display:flex;"><span>    latexDashes: true
</span></span><span style="display:flex;"><span>    nofollowLinks: false
</span></span><span style="display:flex;"><span>    noreferrerLinks: false
</span></span><span style="display:flex;"><span>    plainIDAnchors: true
</span></span><span style="display:flex;"><span>    skipHTML: false
</span></span><span style="display:flex;"><span>    smartDashes: true
</span></span><span style="display:flex;"><span>    smartypants: true
</span></span><span style="display:flex;"><span>    smartypantsQuotesNBSP: false
</span></span><span style="display:flex;"><span>    taskLists: true
</span></span><span style="display:flex;"><span>  defaultMarkdownHandler: goldmark
</span></span><span style="display:flex;"><span>  goldmark:
</span></span><span style="display:flex;"><span>    extensions:
</span></span><span style="display:flex;"><span>      definitionList: true
</span></span><span style="display:flex;"><span>      footnote: true
</span></span><span style="display:flex;"><span>      linkify: true
</span></span><span style="display:flex;"><span>      strikethrough: true
</span></span><span style="display:flex;"><span>      table: true
</span></span><span style="display:flex;"><span>      taskList: true
</span></span><span style="display:flex;"><span>      typographer: true
</span></span><span style="display:flex;"><span>    parser:
</span></span><span style="display:flex;"><span>      attribute: true
</span></span><span style="display:flex;"><span>      autoHeadingID: true
</span></span><span style="display:flex;"><span>      autoHeadingIDType: github
</span></span><span style="display:flex;"><span>    renderer:
</span></span><span style="display:flex;"><span>      hardWraps: false
</span></span><span style="display:flex;"><span>      unsafe: false
</span></span><span style="display:flex;"><span>      xhtml: false
</span></span><span style="display:flex;"><span>  highlight:
</span></span><span style="display:flex;"><span>    anchorLineNos: false
</span></span><span style="display:flex;"><span>    codeFences: true
</span></span><span style="display:flex;"><span>    guessSyntax: false
</span></span><span style="display:flex;"><span>    hl_Lines: &#34;&#34;
</span></span><span style="display:flex;"><span>    lineAnchors: &#34;&#34;
</span></span><span style="display:flex;"><span>    lineNoStart: 1
</span></span><span style="display:flex;"><span>    lineNos: false
</span></span><span style="display:flex;"><span>    lineNumbersInTable: true
</span></span><span style="display:flex;"><span>    noClasses: true
</span></span><span style="display:flex;"><span>    style: monokai
</span></span><span style="display:flex;"><span>    tabWidth: 4
</span></span><span style="display:flex;"><span>  tableOfContents:
</span></span><span style="display:flex;"><span>    endLevel: 3
</span></span><span style="display:flex;"><span>    ordered: false
</span></span><span style="display:flex;"><span>    startLevel: 2
</span></span></code></pre></div><ul>
<li>unsafe: Goldmark默认情况下是不会渲染原生HTML和安全性未知的链接，如果需要内联很多HTML或者JavaScript，需要将其设置为true</li>
</ul>
<h3 id="menuhttpsgohugoiocontent-managementmenus"><a href="https://gohugo.io/content-management/menus/">menu</a></h3>
<p>hugo允许通过内容的<code>front matter</code>来增加内容到菜单，也可以通过配置文件</p>
<div class="highlight"><pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>[menu]
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  [[menu.main]]
</span></span><span style="display:flex;"><span>    identifier = &#34;about&#34;
</span></span><span style="display:flex;"><span>    name = &#34;about hugo&#34;
</span></span><span style="display:flex;"><span>    pre = &#34;&lt;i class=&#39;fa fa-heart&#39;&gt;&lt;/i&gt;&#34;
</span></span><span style="display:flex;"><span>    url = &#34;/about/&#34;
</span></span><span style="display:flex;"><span>    weight = -110
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  [[menu.main]]
</span></span><span style="display:flex;"><span>    name = &#34;getting started&#34;
</span></span><span style="display:flex;"><span>    post = &#34;&lt;span class=&#39;alert&#39;&gt;New!&lt;/span&gt;&#34;
</span></span><span style="display:flex;"><span>    pre = &#34;&lt;i class=&#39;fa fa-road&#39;&gt;&lt;/i&gt;&#34;
</span></span><span style="display:flex;"><span>    url = &#34;/getting-started/&#34;
</span></span><span style="display:flex;"><span>    weight = -100
</span></span></code></pre></div><ul>
<li>url: 相对于<code>baseURL</code>的路径</li>
</ul>
<h3 id="paginatehttpsgohugoiotemplatespagination"><strong><a href="https://gohugo.io/templates/pagination/">paginate</a></strong></h3>
<p>默认的分页数量</p>
<h3 id="taxonomieshttpsgohugoiocontent-managementtaxonomiesconfigure-taxonomies"><strong><a href="https://gohugo.io/content-management/taxonomies#configure-taxonomies">taxonomies</a></strong></h3>
<p>内容间逻辑关系的分类</p>
<div class="highlight"><pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>[taxonomies]
</span></span><span style="display:flex;"><span>  category = &#34;categories&#34;
</span></span><span style="display:flex;"><span>  categories_weight = 44
</span></span><span style="display:flex;"><span>  tag = &#34;tags&#34;
</span></span><span style="display:flex;"><span>  tags_weight = 22
</span></span></code></pre></div><p>每个内容都会产生category和tag，并且按照权重来渲染顺序。</p>
<p>如果某些内容需要自定义的元数据，则创建文件<code>/content/&lt;TAXONOMY&gt;/&lt;TERM&gt;/_index.md</code></p>
<p>YAML格式：</p>
<div class="highlight"><pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>---
</span></span><span style="display:flex;"><span>title: &#34;Bruce Willis&#34;
</span></span><span style="display:flex;"><span>wikipedia: &#34;https://en.wikipedia.org/wiki/Bruce_Willis&#34;
</span></span><span style="display:flex;"><span>---
</span></span></code></pre></div><p>TOML格式：</p>
<div class="highlight"><pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>+++
</span></span><span style="display:flex;"><span>aliases = [
</span></span><span style="display:flex;"><span>    &#34;/posts/my-original-url/&#34;,
</span></span><span style="display:flex;"><span>    &#34;/2010/01/01/even-earlier-url.html&#34;
</span></span><span style="display:flex;"><span>]
</span></span><span style="display:flex;"><span>+++
</span></span></code></pre></div><h3 id="theme"><strong>theme</strong></h3>
<p>主题</p>
<h3 id="themesdir"><strong>themesDir</strong></h3>
<p>hugo读取主题的文件目录</p>
<h3 id="timeout"><strong>timeout</strong></h3>
<p>生成内容的超时时间，默认10秒</p>
<h3 id="watch"><strong>watch</strong></h3>
<h2 id="frontmatter">frontmatter</h2>
<p><em>以yaml格式为准</em></p>
<h3 id="分类">分类</h3>
<p>两种分类方式：<code>categories</code>与<code>tags</code>(暂时不清楚两者的区别)</p>
<p>通过在<code>frontmatter</code>中标记标签，可以对文章进行分组，这样可以通过路径<strong>host</strong>/tags或者<strong>host</strong>/categories就可以看到所有分组的博客。</p>
<p>如果不喜欢路径中存在复数，可以在<code>config.toml</code>中指定为单数</p>
<div class="highlight"><pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>[taxonomies]
</span></span><span style="display:flex;"><span>  category = &#34;category&#34;
</span></span><span style="display:flex;"><span>  tag = &#34;tag&#34;
</span></span></code></pre></div><p>这样在<code>frontmatter</code>中也需要使用单数:</p>
<div class="highlight"><pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>tag: 
</span></span><span style="display:flex;"><span>  -- post
</span></span></code></pre></div><p>查看分组的路径更改为：<strong>host</strong>/tag</p>
<h2 id="目录项toc">目录项TOC</h2>
<p>根据markdown的目录设置博客目录</p>
<ol>
<li>
<p>找到<code>themes/{theme}/layouts/_default/single.html</code> ，在<code>{{ define &quot;content&quot; }}下</code>添加</p>
<div class="highlight"><pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>&lt;div id=&#34;toc&#34; class=&#34;well col-md-4 col-sm-6&#34;&gt;
</span></span><span style="display:flex;"><span>{{ .TableOfContents }}
</span></span><span style="display:flex;"><span>&lt;/div&gt;
</span></span></code></pre></div></li>
<li>
<p>在markdown博客中，设置<code>toc=true</code></p>
</li>
</ol>
<h2 id="相关文章">相关文章</h2>
<p><a href="https://mp.weixin.qq.com/s/pW7iHOQLwMDkFU_bgXeTuA">Hugo + GitHub Pages 搭建自己的网站</a></p>
<p><a href="https://gohugo.io/about/">hugo的官方文档</a></p>

  </article>
</section>

  

      </div>

      
  <footer class="footer">
    <section class="container">
      
        <p>夭寿不贰，修身以俟</p>
      
      
        ©
        
          2021 -
        
        2022
        
      
      
         · 
         <a href="https://gohugo.io/">Hugo</a> & <a href="https://github.com/luizdepra/hugo-coder/">Coder</a>.
      
      
    </section>
  </footer>


    </main>

    
      
        
        <script src="/js/dark-mode.min.c2d8a1f8f2660e4a46d776277c72695a1e0ca65939d79f754441d47551604af5.js"></script>
      
    

    

    

    

    

    

    

    
  </body>

</html>
